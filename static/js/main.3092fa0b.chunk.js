(this["webpackJsonppost-my-thoughts"]=this["webpackJsonppost-my-thoughts"]||[]).push([[0],{221:function(e,t,s){},222:function(e,t,s){},410:function(e,t,s){"use strict";s.r(t);var n=s(11),a=s(1),i=s(2),r=s.n(i),c=s(93),o=s.n(c),l=(s(221),s(29)),h=s(30),u=s(32),d=s(31),j=s(8),b=s(7),m=(s(222),s(10)),g=Object(m.b)(null,(function(e){return{logout:function(){return e((function(e,t,s){(0,s.getFirebase)().auth().signOut().then((function(){e({type:"LOGOUT_SUCCESS"})}))}))}}}))((function(e){return Object(a.jsxs)("ul",{className:"nav-items-container",children:[Object(a.jsx)(j.c,{to:"/post-my-thoughts/create-thought",children:Object(a.jsx)("li",{className:"nav-item new-thought",children:"New Thought"})}),Object(a.jsx)("a",{onClick:e.logout,children:Object(a.jsx)("li",{className:"nav-item logout",children:"Logout"})}),Object(a.jsx)(j.c,{to:"/post-my-thoughts/",children:Object(a.jsx)("li",{className:"nav-item nav-initials",children:e.profile.initials})})]})})),O=function(e){return Object(a.jsxs)("ul",{className:"nav-items-container",children:[Object(a.jsx)(j.c,{to:"/post-my-thoughts/login",children:Object(a.jsx)("li",{className:"nav-item",children:"Login"})}),Object(a.jsx)(j.c,{to:"/post-my-thoughts/signup",children:Object(a.jsx)("li",{className:"nav-item",children:"Signup"})})]})},f=Object(m.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,s=e.profile,n=t.uid?Object(a.jsx)(g,{profile:s}):Object(a.jsx)(O,{});return Object(a.jsxs)("nav",{className:"main-nav",children:[Object(a.jsx)(j.b,{to:"/post-my-thoughts/",children:Object(a.jsxs)("div",{className:"logo",children:["PostMy",Object(a.jsx)("strong",{children:"Thoughts"})]})}),Object(a.jsx)("ul",{className:"nav-items-container",children:n})]})})),p=s(55),x=s.n(p),N=function(e){var t=e.thought;return Object(a.jsxs)("div",{className:"thought-card",children:[Object(a.jsx)("div",{className:"card-title",children:t.title}),Object(a.jsxs)("div",{className:"card-author",children:["Posted by ",t.authorFirstName," ",t.authorLastName]}),Object(a.jsx)("div",{className:"card-date",children:x()(t.createdAt.toDate()).calendar()})]})},v=function(e){var t=e.thoughts;return Object(a.jsxs)("div",{className:"thoughts-list",children:[Object(a.jsx)("h2",{className:"thoughts-list-title",children:"Everyone's Thoughts"}),t&&t.map((function(e){return Object(a.jsx)(j.b,{to:"/post-my-thoughts/thoughts/"+e.id,children:Object(a.jsx)(N,{thought:e})},e.id)}))]})},y=function(e){var t=e.notifications;return Object(a.jsxs)("div",{className:"notifications",children:[Object(a.jsx)("h2",{className:"notifications-title",children:"Notifications"}),Object(a.jsx)("ul",{className:"notifications-container",children:t&&t.map((function(e){return Object(a.jsxs)("li",{className:"notification",children:[Object(a.jsxs)("span",{className:"notification-user",children:[e.user,"\xa0"]}),e.content,"\xa0",Object(a.jsxs)("span",{className:"notification-date",children:["\xa0 --- \xa0",x()(e.time.toDate()).fromNow()]})]},e.id)}))})]})},C=s(23),E=s(20),S=function(e){var t=e.profile;return Object(a.jsxs)("div",{className:"user-info",children:[Object(a.jsx)("h2",{className:"thoughts-list-title",children:"User Information"}),Object(a.jsxs)("div",{className:"user-first-name",children:["User First Name: ",t.firstName]}),Object(a.jsxs)("div",{className:"user-last-name",children:["User Last Name: ",t.lastName]}),Object(a.jsxs)("div",{className:"user-intitials",children:["User Initials: ",t.initials]}),Object(a.jsx)(j.c,{to:"/post-my-thoughts/create-thought/",children:Object(a.jsx)("button",{className:"create-btn",children:"Create Thought"})})]})},w=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props,t=e.thoughts,s=e.auth,n=e.notifications,i=e.profile;return s.uid?Object(a.jsx)("div",{className:"dashboard l-container-full-screen",children:Object(a.jsx)("div",{className:"l-container-full-screen filter-white",children:Object(a.jsxs)("div",{className:"l-container-1080",children:[Object(a.jsxs)("div",{className:"top-dash",children:[Object(a.jsx)(y,{notifications:n}),Object(a.jsx)(S,{profile:i})]}),Object(a.jsx)(v,{thoughts:t})]})})}):Object(a.jsx)(b.a,{to:"/post-my-thoughts/login"})}}]),s}(i.Component),F=Object(E.d)(Object(m.b)((function(e){return{thoughts:e.firestore.ordered.thoughts,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications,profile:e.firebase.profile}})),Object(C.firestoreConnect)([{collection:"thoughts",orderBy:["createdAt","desc"]},{collection:"notifications",limit:20,orderBy:["time","desc"]}]))(w),R=Object(E.d)(Object(m.b)((function(e,t){var s=t.match.params.id,n=e.firestore.data.thoughts;return{thought:n?n[s]:null,auth:e.firebase.auth}})),Object(C.firestoreConnect)([{collection:"thoughts"}]))((function(e){var t=e.thought;return e.auth.uid?t?Object(a.jsx)("div",{className:"thought-details l-container-full-screen",children:Object(a.jsx)("div",{className:"l-container-full-screen filter-white",children:Object(a.jsx)("div",{className:"l-container-1080",children:Object(a.jsxs)("div",{className:"thought-container",children:[Object(a.jsx)("h2",{className:"thought-title",children:t.title}),Object(a.jsxs)("div",{className:"author-and-date",children:["Posted by"," ",Object(a.jsxs)("span",{className:"author",children:[t.authorFirstName,"\xa0",t.authorLastName]}),",\xa0",Object(a.jsx)("span",{className:"date",children:x()(t.createdAt.toDate()).calendar()})]}),Object(a.jsx)("div",{className:"thought-content",children:t.content}),Object(a.jsx)(j.c,{to:"/post-my-thoughts/",children:Object(a.jsx)("button",{className:"back-btn",children:"Back to Dashboard"})})]})})})}):Object(a.jsx)("div",{children:"Loading Thought..."}):Object(a.jsx)(b.a,{to:"/post-my-thoughts/login"})})),U=s(36),T=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e}return Object(h.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(U.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.login(this.state)}},{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(a.jsx)(b.a,{to:"/post-my-thoughts/"}):Object(a.jsx)("div",{className:"login l-container-full-screen",children:Object(a.jsx)("div",{className:"l-container-full-screen filter-white",children:Object(a.jsx)("div",{className:"l-container-1080",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),className:"login-form",children:[Object(a.jsx)("h2",{className:"login-title",children:"Login"}),Object(a.jsxs)("div",{className:"login-username-container form-box",children:[Object(a.jsx)("input",{type:"email",id:"email",onChange:this.handleChange.bind(this),placeholder:" ",required:!0}),Object(a.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(a.jsxs)("div",{className:"login-password-container form-box",children:[Object(a.jsx)("input",{type:"password",id:"password",onChange:this.handleChange.bind(this),placeholder:" ",required:!0}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(a.jsx)("button",{className:"login-btn",children:"Login"}),t?Object(a.jsx)("div",{className:"error-message",children:t}):null]})})})})}}]),s}(i.Component),P=Object(m.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{login:function(t){return e((s=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(s.email,s.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var s}}}))(T),k=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",firstName:"",lastName:""},e}return Object(h.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(U.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.signUp(this.state)}},{key:"render",value:function(){var e=this.props,t=e.auth,s=e.authError;return t.uid?Object(a.jsx)(b.a,{to:"/post-my-thoughts/"}):Object(a.jsx)("div",{className:"signup l-container-full-screen",children:Object(a.jsx)("div",{className:"l-container-full-screen filter-white",children:Object(a.jsx)("div",{className:"l-container-1080",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),className:"signup-form",children:[Object(a.jsx)("h2",{className:"signup-title",children:"New User"}),Object(a.jsxs)("div",{className:"signup-username-container form-box",children:[Object(a.jsx)("input",{type:"email",id:"email",placeholder:" ",onChange:this.handleChange.bind(this),required:!0}),Object(a.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(a.jsxs)("div",{className:"signup-first-name-container form-box",children:[Object(a.jsx)("input",{type:"text",id:"firstName",placeholder:" ",onChange:this.handleChange.bind(this),required:!0}),Object(a.jsx)("label",{htmlFor:"firstName",children:"First Name"})]}),Object(a.jsxs)("div",{className:"signup-last-name-container form-box",children:[Object(a.jsx)("input",{type:"text",id:"lastName",placeholder:" ",onChange:this.handleChange.bind(this),required:!0}),Object(a.jsx)("label",{htmlFor:"lastName",children:"Last Name"})]}),Object(a.jsxs)("div",{className:"signup-password-container form-box",children:[Object(a.jsx)("input",{type:"password",id:"password",placeholder:" ",onChange:this.handleChange.bind(this),required:!0}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(a.jsx)("button",{className:"signup-btn",children:"Create Account"}),s?Object(a.jsx)("div",{className:"error-message",children:s}):null]})})})})}}]),s}(i.Component),L=Object(m.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,s,n){var a=n.getFirebase,i=n.getFirestore,r=a(),c=i();r.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],totalPosts:0})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(k),A=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={title:"",content:""},e}return Object(h.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(U.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.createThought(this.state),this.props.history.push("/post-my-thoughts/")}},{key:"render",value:function(){return this.props.auth.uid?Object(a.jsx)("div",{className:"create-thought l-container-full-screen",children:Object(a.jsx)("div",{className:"l-container-full-screen filter-white",children:Object(a.jsx)("div",{className:"l-container-1080",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),className:"create-thought-form",children:[Object(a.jsx)("h2",{className:"form-title",children:"Create New Thought"}),Object(a.jsxs)("div",{className:"thought-title-container form-box",children:[Object(a.jsx)("input",{type:"text",id:"title",className:"thought-title-input",onChange:this.handleChange.bind(this),placeholder:" ",required:!0}),Object(a.jsx)("label",{htmlFor:"title",children:"Title"})]}),Object(a.jsxs)("div",{className:"thought-content-container form-box",children:[Object(a.jsx)("textarea",{id:"content",className:"thought-content-input",onChange:this.handleChange.bind(this),required:!0,placeholder:" "}),Object(a.jsx)("label",{htmlFor:"content",children:"Content"})]}),Object(a.jsx)("button",{className:"login-btn",children:"Create"})]})})})}):Object(a.jsx)(b.a,{to:"/post-my-thoughts/login"})}}]),s}(i.Component),I=Object(m.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createThought:function(t){return e(function(e){return function(t,s,a){a.getFirebase;var i=(0,a.getFirestore)(),r=s().firebase.profile,c=s().firebase.auth.uid;i.collection("thoughts").add(Object(n.a)(Object(n.a)({},e),{},{authorFirstName:r.firstName,authorLastName:r.lastName,authorID:c,createdAt:new Date})).then((function(){t({type:"CREATE_THOUGHT",thought:e})})).catch((function(e){t({type:"CREATE_THOUGHT_ERROR",err:e})}))}}(t))}}}))(A),G=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsx)(j.a,{children:Object(a.jsxs)("div",{className:"app l-container-full-screen",children:[Object(a.jsx)(f,{}),Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{exact:!0,path:"/post-my-thoughts",component:F}),Object(a.jsx)(b.b,{path:"/post-my-thoughts/thoughts/:id",component:R}),Object(a.jsx)(b.b,{path:"/post-my-thoughts/login",component:P}),Object(a.jsx)(b.b,{path:"/post-my-thoughts/signup",component:L}),Object(a.jsx)(b.b,{path:"/post-my-thoughts/create-thought",component:I})]})]})})}}]),s}(i.Component),_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,412)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))},D={authError:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(n.a)(Object(n.a)({},e),{},{authError:"login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"LOGOUT_SUCCESS":return console.log("logout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});default:return e}},q=s(56),B={thoughts:[{id:"1",title:"a thought",content:"im thinking"},{id:"2",title:"two thought",content:"im thinking aboit"},{id:"3",title:"three thought",content:"im thinking aboit stuff"}]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_THOUGHT":return console.log("created thought",t.thought),e;case"CREATE_THOUGHT_ERROR":return console.log("created thought error",t.err),e;default:return e}},z={currentPage:1,thoughtsPerPage:12},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE":return console.log("changed page",t.pageNumber),Object(n.a)(Object(n.a)({},e),{},{currentPage:t.pageNumber});case"CHANGE_PAGE_ERROR":return console.log("changed page error",t.err),e;default:return e}},W=Object(E.c)({auth:H,thought:M,pagination:J,firebase:C.firebaseReducer,firestore:q.firestoreReducer}),Y=s(214),K=s(44);s(411),s(406),s(408);K.a.initializeApp({apiKey:"AIzaSyDYxqQK0qmJzamoY_e5OjkkG8UC9V4XRh4",authDomain:"post-my-thought.firebaseapp.com",databaseURL:"https://post-my-thought.firebaseio.com",projectId:"post-my-thought",storageBucket:"post-my-thought.appspot.com",messagingSenderId:"609553640298",appId:"1:609553640298:web:6f24e7450220cdedf6d313",measurementId:"G-PMWLYXHMED"}),K.a.analytics();var X=K.a,Q=Object(E.e)(W,Object(E.d)(Object(E.a)(Y.a.withExtraArgument({getFirebase:C.getFirebase,getFirestore:q.getFirestore})),Object(q.reduxFirestore)(K.a,X))),V={firebase:K.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:Q.dispatch,createFirestoreInstance:q.createFirestoreInstance,presence:"presence",sessions:"sessions"};function Z(e){var t=e.children,s=Object(m.c)((function(e){return e.firebase.auth}));return Object(C.isLoaded)(s)?t:Object(a.jsx)("div",{children:"Loading Screen..."})}o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(m.a,{store:Q,children:Object(a.jsx)(C.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},V),{},{children:Object(a.jsx)(Z,{children:Object(a.jsx)(G,{})})}))})}),document.getElementById("root")),_()}},[[410,1,2]]]);
//# sourceMappingURL=main.3092fa0b.chunk.js.map